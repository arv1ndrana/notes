2025-02-05 22:21

Status: #todo #child 

Tags:

# A Note About Git Commit Messages
## notes
- long commit messages are bad
- Capitalized, short (50 chars or less) summary
- 72 chars only if necessary
- commit message should use first verb only
- this matches commits generated by commands like git merge and git revert.
- In some contexts, the first line is treated as the subject of an email and the rest of the text as the body. 
- The blank line separating the summary from the body is critical (unless you omit the body entirely); tools like `rebase` can get confused if you put the summary and the body together.
- Body text should be written only after a blank line.
	- Bullet points are okay, too
	- Typically a hyphen or asterisk is used for the bullet, followed by a
	  single space, with blank lines in between, but conventions vary here
	- Use a hanging indent
- Let’s start with a few of the reasons why wrapping your commit messages to 72 columns is a good thing.
	- `git log` doesn’t do any special special wrapping of the commit messages. With the default pager of `less -S`, this means your paragraphs flow far off the edge of the screen, making them difficult to read. On an 80 column terminal, if we subtract 4 columns for the indent on the left and 4 more for symmetry on the right, we’re left with 72 columns.
	- `git format-patch --stdout` converts a series of commits to a series of emails, using the messages for the message body. Good email netiquette dictates we wrap our plain text emails such that there’s room for a few levels of nested reply indicators without overflow in an 80 column terminal.
- More important than the mechanics of formatting the body is the practice of having a subject line. As the example indicates, you should shoot for about 50 characters (though this isn’t a hard maximum) and always, always follow it with a blank line. This first line should be a concise summary of the changes introduced by the commit; if there are any technical details that cannot be expressed in these strict size constraints, put them in the body instead. The subject line is used all over Git, oftentimes in truncated form if too long of a message was used. The following are just a handful of examples of where it ends up:

	- `git log --pretty=oneline` shows a terse history mapping containing the commit id and the summary
	- `git rebase --interactive` provides the summary for each commit in the editor it invokes
	- if the config option `merge.summary` is set, the summaries from all merged commits will make their way into the merge commit message
	- `git shortlog` uses summary lines in the changelog-like output it produces
	- `git format-patch`, `git send-email`, and related tools use it as the subject for emails
	- reflogs, a local history accessible with `git reflog` intended to help you recover from stupid mistakes, get a copy of the summary
	- `gitk` has a column for the summary
	- GitHub uses the summary in various places in their user interface
- The subject/body distinction may seem unimportant but it’s one of many subtle factors that makes Git history so much more pleasant to work.

## summary
When using `git commit -m "<suitable message>"` command,
The message should follow the following standards:
- First letter Capitalized
- Use imperative sentence (V1 sentences)
- Use 50 or less characters to summarizes the commit
- Use 72 characters only if very necessary
The above standards match the commits generated by commands like `git merge` and `git revert`

And therefore, should be followed.

When using `git commit` command for multi-line commit message,
The message should follow the following standards:
- The first line should follow the above standards.
- The first line should be treated like subject of an email.
- The first line of the commit's message should be concise summary of the changes introduced by the commit.
- The first line should always be followed by a blank line.
- The rest of the text should be treated as the body.
- The first sentence of the text body should be indented.
- Try to use bullet points in the body instead of text.
- Use hyphen (`-`) or asterisk (`*`) followed by a space for bullet points.

Why limit your topic summary to 72 columns?
`git log` command does not wrap commit messages. This means that long messages cannot be read with default terminal width.

The default terminal width only supports 80 characters. Subtracting 4 characters for indents on left and 4 characters for symmetry on the right, only 72 characters remain.

`git format-patch --stdout` converts all commits to email format. Therefore, to make email look good and follow email writing standards, we limit our topic summary to 72 characters.


If some technical details cannot be written, write them in the body as text or bullet points.

The subject and body standards seems unimportant but, following these standards it will create less confusions in the future for yourself and when working with a team.




# References
https://tbaggery.com/2008/04/19/a-note-about-git-commit-messages.html
https://stackoverflow.com/questions/4651012/why-is-the-default-terminal-width-80-characters#4651037